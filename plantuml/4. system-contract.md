### Описание контрактов CBDC

---

#### **1. Основные сущности системы**

1. **Участники (Participants)**  
   - **Физические лица** (`CBDCPersonalData33`, `CBDCIndividualRP3`):  
     Содержат персональные данные (ФИО, контакты, документы, SNILS, ИНН), биометрию (`FngrPrt`), статусы резидентства (`SgnOfRsdncy`).  
   - **Юридические лица** (`CBDCBusinessParty12`, `CBDCOrganisationData23`):  
     Включают реквизиты (ИНН, КПП, ОГРН), данные кошельков, адреса, банковские счета, информацию о видах деятельности.  
   - **Мерчанты** (`CBDCMerchantData2`):  
     Идентификаторы мерчантов, названия, адреса, MCC-коды.  
   - **Посредники** (`CBDCIntermediary11`):  
     Финансовые институты, обеспечивающие взаимодействие между участниками.  

2. **Кошельки (Wallets)**  
   - **CBDCWallet43**, **CBDCWallet44**:  
     Уникальный идентификатор (`Id`), номер счета (`DCAcctNb`), баланс (`Bal`), статусы (`WlltSts`: ACTV, BLCK, SUSP).  
   - **Баланс кошелька** (`CBDCWalletBalance11`):  
     Общая сумма, заблокированные средства, текущий баланс.  

3. **Операции**  
   - **Переводы**:  
     - C2C, B2B, C2B (`CBDCTransferInformation24`, `CBDCC2BInformation13`).  
     - Параметры: сумма (`TrfAmt`), отправитель (`DCSndr`), получатель (`DCRcpt`), цель (`Purp`).  
   - **Обмен цифровой валюты** (`CBDCExchangeOperation38`):  
     Покупка/продажа CBDC, связь с банковскими переводами (`BkTrfData`).  
   - **Отложенные переводы** (`CBDCDeferredTransferOrder12`):  
     Периодические выплаты, настройки периодичности (`PrdctySttngs`).  

4. **Документы и авторизация**  
   - **Юридические документы** (`CBDCAuthorizationDocument3`):  
     Тип документа, даты выдачи/истечения, номер.  
   - **Идентификационные документы** (`CBDCIdentityDocument1Choice2`):  
     Паспорта, временные удостоверения, резидентские карты.  

---

#### **2. Взаимодействие объектов**

1. **Инициализация операций**  
   - Запросы на переводы (`SETOperation`, `DCTransferB2C`):  
     Содержат заголовок сообщения (`MsgHdr`), данные операции (`OprOrdr`), хэш данных (`DLDgst`), биометрию.  
   - Проверка возможности операции (`DCTransactionPossibilityRequest`):  
     Анализ лимитов, AML/CFT-проверки.  

2. **Администрирование кошельков**  
   - Блокировка/разблокировка (`WalletAdministrationRequest`):  
     Запросы изменяют статус кошелька (`WlltReqCd`: BLCK, UNBL).  
   - Уведомления (`WalletAdministrationNotification`):  
     Информируют об изменении статуса кошелька или участника.  

3. **Интеграция с банковской системой**  
   - Переводы через банки (`CBDCBankTransferData13`):  
     Используют реквизиты счетов (`GenericAccountIdentification11`), идентификаторы клиринговых систем (`ClrSysId`).  

4. **Отчетность и уведомления**  
   - Формирование отчетов (`CBDCRestrictionManagementReport12`):  
     Данные об ограничениях, аргументы блокировок.  
   - Событийные уведомления (`EventNotification`):  
     Информируют о завершении операций, изменениях в системе.  

---

#### **3. Статусы и коды**

1. **Статусы операций**  
   - `CBDCSETStatus2Code1`: ACTV (активна), EXEC (исполнена), RJCT (отклонена).  
   - `CBDCStatus1Code1`: CMPL (завершена), RJCT (ошибка).  

2. **Статусы кошельков**  
   - `CBDCWalletStatus2Code1`: ACTV (активен), BLCK (заблокирован), SUSP (приостановлен).  

3. **Типы документов**  
   - Кредитные ссылки (`CBDCCreditorReferenceType11`: UIP2),  
   - Идентификаторы (`CBDCDocumentTypeCode27`: паспорт, свидетельство о рождении).  

---

#### **4. Ключевые процессы**

1. **AML/CFT-проверки**  
   - Анализ источника средств (`CBDCAML_CFTInfo1`), уровня риска (`RskLvl`), связей с публичными лицами.  

2. **Управление ограничениями**  
   - Наложение/снятие ограничений на кошельки (`CBDCRestrictionData12`).  

3. **Работа с шаблонами операций**  
   - Создание шаблонов для частых операций (`CBDCSETTemplateList11`).  

---

#### **5. Пример сценария: Перевод между клиентами (C2C)**

1. **Инициация**:  
   - Клиент отправляет запрос через `SETOperation`, указывая сумму, получателя, цель.  
2. **Проверка**:  
   - Система проверяет лимиты (`CBDCOperationAmountNotNull1`), AML-параметры.  
3. **Исполнение**:  
   - Средства списываются с кошелька отправителя (`CBDCWallet43`), зачисляются получателю.  
4. **Уведомление**:  
   - Обе стороны получают `Notification` с деталями операции.  

